(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(t,e,a){t.exports=a.p+"static/media/logo-ai.1e2d2217.svg"},25:function(t,e,a){t.exports=a.p+"static/media/logo-react.5d5d9eef.svg"},26:function(t,e,a){t.exports=a.p+"static/media/heart.4e01da79.svg"},49:function(t,e,a){t.exports=a(63)},57:function(t,e,a){},63:function(t,e,a){"use strict";a.r(e);var n=a(22),i=a(1),o=a.n(i),r=a(23),s=a.n(r),c=a(6),l=a(7),m=a(9),p=a(8),u=a(10),d=a(69),g=function(t){function e(){return Object(c.a)(this,e),Object(m.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExampleDefault"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement(d.a,{className:"nav-link",to:"/demo-a"},"Page A")),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(d.a,{className:"nav-link",to:"/demo-b"},"Page B")),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(d.a,{className:"nav-link",to:"/demo-c"},"Page C")))))}}]),e}(i.Component),h=a(24),b=a.n(h),v=a(25),f=a.n(v),E=a(26),y=a.n(E),T=(a(57),a(71)),k=a(4),x=a(27),w=new(function(){function t(){this.extensionId="ApplicationInsightsReactUsage",this.ApplicationInsightsAnalyticsIdentifier="ApplicationInsightsAnalytics",this.identifier=this.extensionId,this.priority=190,this.contextProps={},this.debug=!1,this.processTelemetry=this.customDimensionsInitializer.bind(this)}return t.prototype.setNextPlugin=function(t){this.nextPlugin=t},Object.defineProperty(t.prototype,"context",{get:function(){return this.contextProps||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDebugMode",{get:function(){return this.debug},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t,e,a){var n=this,i=t.extensionConfig&&t.extensionConfig[this.identifier]?t.extensionConfig[this.identifier]:{debug:!1};if(this.debug=i.debug||!1,this.setContext(i.initialContext||{},!0),a.forEach(function(t){var e=t.identifier;e===n.ApplicationInsightsAnalyticsIdentifier&&(n.appInsights=t),e===x.a&&(n.propertiesPlugin=t)}),i.history){this.addHistoryListener(i.history);var o={uri:i.history.location.pathname,properties:this.context};this._trackInitialPageViewInternal(o)}},t.prototype._trackInitialPageViewInternal=function(t){this.appInsights.trackPageView(t),this.debugLog("recording initial page view.","uri: "+location.pathname)},t.prototype.setContext=function(t,e){for(var a in void 0===e&&(e=!1),e&&(this.contextProps={},this.debugLog("context is reset.")),t=t||{})t.hasOwnProperty(a)&&(this.contextProps[a]=t[a]);this.debugLog("context is set to:",this.context)},t.prototype.customDimensionsInitializer=function(){var t=this;return function(e){e.baseData=e.baseData||{},e.baseData.properties=e.baseData.properties||{};var a=e.baseData.properties,n=t.context;for(var i in n)n.hasOwnProperty(i)&&(a[i]=n[i])}},t.prototype.addHistoryListener=function(t){var e=this;t.listen(function(t,a){setTimeout(function(){var n={uri:t.pathname,properties:e.context};e.appInsights.trackPageView(n),e.debugLog("recording page view.","uri: "+t.pathname+" action: "+a)},500)})},t.prototype.debugLog=function(t,e){this.isDebugMode&&console.log("ReactAI: "+t,void 0===e?"":e)},t}()),A=a(18),j=a(15);function I(t,e){return void 0!==e&&null!==e&&"string"===typeof e||(e=t.prototype.constructor.name),function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.mountTimestamp=0,t.firstActiveTimestamp=0,t.idleStartTimestamp=0,t.lastActiveTimestamp=0,t.totalIdleTime=0,t.idleCount=0,t.idleTimeout=5e3,t.trackActivity=function(e){if(0===t.firstActiveTimestamp?(t.firstActiveTimestamp=Date.now(),t.lastActiveTimestamp=t.firstActiveTimestamp):t.lastActiveTimestamp=Date.now(),t.idleStartTimestamp>0){var a=t.lastActiveTimestamp-t.idleStartTimestamp;t.totalIdleTime+=a,t.debugLog("trackActivity","Idle to active added "+a/1e3+" seconds of idle time."),t.idleStartTimestamp=0}},t}return A.b(n,a),n.prototype.componentDidMount=function(){var t=this;this.mountTimestamp=Date.now(),this.firstActiveTimestamp=0,this.totalIdleTime=0,this.lastActiveTimestamp=0,this.idleStartTimestamp=0,this.idleCount=0,this.intervalId=setInterval(function(){t.lastActiveTimestamp>0&&0===t.idleStartTimestamp&&Date.now()-t.lastActiveTimestamp>=t.idleTimeout&&(t.idleStartTimestamp=Date.now(),t.idleCount++,t.debugLog("componentDidMount","Starting idle time."))},100)},n.prototype.componentWillUnmount=function(){if(0===this.mountTimestamp)throw new Error("withAITracking:componentWillUnmount: mountTimestamp isn't initialized.");if(!w.appInsights)throw new Error("withAITracking:componentWillUnmount: ReactAI isn't initialized.");if(this.intervalId&&clearInterval(this.intervalId),0!==this.firstActiveTimestamp){var t=this.getEngagementTimeSeconds(),a={average:t,name:"React Component Engaged Time (seconds)",sampleCount:1},n={"Component Name":e};this.debugLog("componentWillUnmount","Tracking "+t+" seconds of engagement time for "+e+"."),w.appInsights.trackMetric(a,n)}else this.debugLog("componentWillUnmount","Nothing to track.")},n.prototype.render=function(){return j.createElement("div",{onKeyDown:this.trackActivity,onMouseMove:this.trackActivity,onScroll:this.trackActivity,onMouseDown:this.trackActivity,onTouchStart:this.trackActivity,onTouchMove:this.trackActivity},j.createElement(t,A.a({},this.props)))},n.prototype.debugLog=function(t,a){w.isDebugMode&&console.log("withAITracking:"+e+":"+t+": "+a,{engagementTime:this.getEngagementTimeSeconds(),firstActiveTime:this.firstActiveTimestamp,idleStartTime:this.idleStartTimestamp,idleTimeMs:this.totalIdleTime,lastActiveTime:this.lastActiveTimestamp,mountTimestamp:this.mountTimestamp})},n.prototype.getEngagementTimeSeconds=function(){return(Date.now()-this.firstActiveTimestamp-this.totalIdleTime-this.idleCount*this.idleTimeout)/1e3},n}(j.Component)}var O=I(function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(m.a)(this,Object(p.a)(e).call(this,t))).state={message:""},a.trackException=a.trackException.bind(Object(k.a)(Object(k.a)(a))),a.trackTrace=a.trackTrace.bind(Object(k.a)(Object(k.a)(a))),a.trackEvent=a.trackEvent.bind(Object(k.a)(Object(k.a)(a))),a.throwError=a.throwError.bind(Object(k.a)(Object(k.a)(a))),a.ajaxRequest=a.ajaxRequest.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"trackException",value:function(){w.appInsights.trackException({error:new Error("some error"),severityLevel:3}),this.setState({message:"Exception explicitly tracked"})}},{key:"trackTrace",value:function(){w.appInsights.trackTrace({message:"some trace",severityLevel:1}),this.setState({message:"Trace explicitly tracked"})}},{key:"trackEvent",value:function(){w.appInsights.trackEvent({name:"some event"}),this.setState({message:"Event explicitly tracked"})}},{key:"throwError",value:function(){throw this.setState({message:"Error thrown and automatically collected"}),new Error("Error Foo Bar")}},{key:"ajaxRequest",value:function(){var t=new XMLHttpRequest;t.open("GET","https://httpbin.org/status/200"),t.send(),this.setState({message:"Ajax request performed and automatically collected"})}},{key:"render",value:function(){return i.createElement("div",null,i.createElement("div",{className:"main-text"},"Demo Page A"),i.createElement("button",{type:"button",className:"btn btn-outline-warning btn-lg",onClick:this.trackException},"Track Exception"),i.createElement("button",{type:"button",className:"btn btn-outline-primary btn-lg",onClick:this.trackEvent},"Track Event"),i.createElement("button",{type:"button",className:"btn btn-outline-info btn-lg",onClick:this.trackTrace},"Track Trace"),i.createElement("br",null),i.createElement("button",{type:"button",className:"btn btn-outline-light btn-lg",onClick:this.ajaxRequest},"Autocollect a Request"),i.createElement("button",{type:"button",className:"btn btn-outline-danger btn-lg",onClick:this.throwError},"Autocollect an Error"),i.createElement("br",null),"...or navigate to another page to trigger component-based page tracking.",""!==this.state.message&&i.createElement("div",{className:"alert alert-primary",role:"alert"},this.state.message))}}]),e}(i.Component)),N=I(function(t){function e(){return Object(c.a)(this,e),Object(m.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"main-text"},"Demo Page B"),o.a.createElement("p",null,o.a.createElement("small",null,"(This page is just intended to demo the page view tracking feature of ",o.a.createElement("code",null,"react-appinsights"),")")))}}]),e}(i.Component)),C=I(function(t){function e(){return Object(c.a)(this,e),Object(m.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"main-text"},"Demo Page C"),o.a.createElement("p",null,o.a.createElement("small",null,"(This page is just intended to demo the page view tracking feature of ",o.a.createElement("code",null,"react-appinsights"),")")))}}]),e}(i.Component)),D=function(t){function e(){return Object(c.a)(this,e),Object(m.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"page-content"},o.a.createElement(T.a,{path:"/",component:O,exact:!0}),o.a.createElement(T.a,{path:"/demo-a",component:O}),o.a.createElement(T.a,{path:"/demo-b",component:N}),o.a.createElement(T.a,{path:"/demo-c",component:C})),o.a.createElement("div",{className:"bottom-link main-text"},o.a.createElement("div",{className:"logos"},o.a.createElement("img",{src:f.a,className:"logo",alt:"React"}),"+",o.a.createElement("img",{src:b.a,className:"logo",alt:"Application Insights"}),"=",o.a.createElement("img",{src:y.a,id:"heart",className:"logo",alt:"love"})),o.a.createElement("span",{className:"bottom-text"},"This is a demo application of Application Insights and React, using "),o.a.createElement("a",{className:"react-ai-link",href:"https://github.com/Azure/react-appinsights#react-appinsights",target:"_blank",rel:"noopener noreferrer"},"react-appinsights"))))}}]),e}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(72),S=a(70),L=a(14),M=a(29);a.n(M).a.config();var R=Object(L.a)({basename:"/react-appinsights-demo"});new S.a({config:{instrumentationKey:"95517dea-6c1b-42a4-8f66-a0b0ffb375d7",extensions:[w],extensionConfig:Object(n.a)({},w.extensionId,{debug:!0})}}).loadAppInsights(),s.a.render(o.a.createElement(P.a,{history:R},o.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.09bbc5ef.chunk.js.map